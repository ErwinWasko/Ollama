<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vulnerability Scanner Analysis</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<header>
    <h1>Vulnerability Scanner Analysis</h1>
    <div id="header-info"></div>
    <i class="fas fa-moon toggle-mode" id="toggle-dark-mode"></i>
</header>

<main>
    <div class="sidebar">
        <h2>Filters</h2>
        <label for="cvss">CVSS Score:</label>
        <select id="cvss">
            <option value="all">All</option>
            <option value="critical">Critical (9.0+)</option>
            <option value="high">High (7.0 - 8.9)</option>
            <option value="medium">Medium (4.0 - 6.9)</option>
            <option value="low">Low (0.1 - 3.9)</option>
        </select>
        <div class="button-container">
        <button id="print-pdf">Print to PDF</button>
        <button id="print-word">Print to Word</button>
        <button id="show-chart">Wykres</button>
        </div>
        <div class="button-container">
            <br>
            <h2>Attack simulation</h2>
            <label for="cve-select">Wybierz CVE:</label>
            <select id="cve-select">
                <option value="">Wybierz CVE...</option>
                <!-- Opcje zostaną wypełnione dynamicznie z backendu -->
            </select>
            <button id="open-simulation">Symuluj atak</button>
        </div>
    </div>

    <div id="simulation-modal" class="modal">
        <div class="modal-content">
            <span id="close-simulation" class="close">&times;</span>
            <h2>Symulacja ataku</h2>
    
            <!-- SVG for simulation -->
            <div id="svg-container">
                <svg id="attack-simulation" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 100">
                    <line id="attack-line1" x1="10" y1="20" x2="190" y2="20" stroke="#007bff" stroke-width="4" stroke-dasharray="180" stroke-dashoffset="180" />
                    <line id="attack-line2" x1="10" y1="40" x2="190" y2="40" stroke="#0056b3" stroke-width="4" stroke-dasharray="180" stroke-dashoffset="180" />
                    <circle id="server" cx="50" cy="70" r="10" fill="#fff" stroke="#000" stroke-width="2" />
                    <circle id="workstation" cx="150" cy="70" r="10" fill="#fff" stroke="#000" stroke-width="2" />
                </svg>
            </div>
    
            <!-- Attack steps will be displayed here -->
            <div id="simulation-steps"></div>
        </div>
    </div>

    <div class="results" id="resultsContainer">
        <div id="results-container">
        <div class="loading" id="loading">
            <span></span><span></span><span></span>
        </div>
    </div>

    <div id="chatbot">
        <h2>Chatbot - Zadaj pytanie</h2>
        <div id="chat-window">
            <div id="chat-messages"></div>
        </div>
        <input type="text" id="chat-input" placeholder="Wpisz pytanie..." />
        <button id="send-message">Wyślij</button>
    </div>
</main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/docx/5.0.2/docx.js"></script>
    <script src="/static/scripts.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/static/wykresy.js"></script>
    <script src="/static/simulation.js"></script>


</body>
</html>
